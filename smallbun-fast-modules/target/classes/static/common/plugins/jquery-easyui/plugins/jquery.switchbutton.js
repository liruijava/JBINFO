(function(e){function f(l){var k=e('<span class="switchbutton"><span class="switchbutton-inner"><span class="switchbutton-on"></span><span class="switchbutton-handle"></span><span class="switchbutton-off"></span><input class="switchbutton-value" type="checkbox"></span></span>').insertAfter(l);var i=e(l);i.addClass("switchbutton-f").hide();var j=i.attr("name");if(j){i.removeAttr("name").attr("switchbuttonName",j);k.find(".switchbutton-value").attr("name",j)}k.bind("_resize",function(n,m){if(e(this).hasClass("easyui-fluid")||m){c(l)}return false});return k}function c(m,k){var j=e.data(m,"switchbutton");var q=j.options;var p=j.switchbutton;if(k){e.extend(q,k)}var o=p.is(":visible");if(!o){p.appendTo("body")}p._size(q);var r=p.width();var i=p.height();var r=p.outerWidth();var i=p.outerHeight();var n=parseInt(q.handleWidth)||p.height();var l=r*2-n;p.find(".switchbutton-inner").css({width:l+"px",height:i+"px",lineHeight:i+"px"});p.find(".switchbutton-handle")._outerWidth(n)._outerHeight(i).css({marginLeft:-n/2+"px"});p.find(".switchbutton-on").css({width:(r-n/2)+"px",textIndent:(q.reversed?"":"-")+n/2+"px"});p.find(".switchbutton-off").css({width:(r-n/2)+"px",textIndent:(q.reversed?"-":"")+n/2+"px"});q.marginWidth=r-n;g(m,q.checked,false);if(!o){p.insertAfter(m)}}function h(p){var n=e.data(p,"switchbutton");var m=n.options;var l=n.switchbutton;var k=l.find(".switchbutton-inner");var i=k.find(".switchbutton-on").html(m.onText);var o=k.find(".switchbutton-off").html(m.offText);var j=k.find(".switchbutton-handle").html(m.handleText);if(m.reversed){o.prependTo(k);i.insertAfter(j)}else{i.prependTo(k);o.insertAfter(j)}l.find(".switchbutton-value")._propAttr("checked",m.checked);l.removeClass("switchbutton-disabled").addClass(m.disabled?"switchbutton-disabled":"");l.removeClass("switchbutton-reversed").addClass(m.reversed?"switchbutton-reversed":"");g(p,m.checked);b(p,m.readonly);e(p).switchbutton("setValue",m.value)}function g(k,i,r){var q=e.data(k,"switchbutton");var p=q.options;p.checked=i;var o=q.switchbutton.find(".switchbutton-inner");var m=o.find(".switchbutton-on");var l=p.reversed?(p.checked?p.marginWidth:0):(p.checked?0:p.marginWidth);var n=m.css("float").toLowerCase();var s={};s["margin-"+n]=-l+"px";r?o.animate(s,200):o.css(s);var j=o.find(".switchbutton-value");var t=j.is(":checked");e(k).add(j)._propAttr("checked",p.checked);if(t!=p.checked){p.onChange.call(k,p.checked)}}function a(n,m){var l=e.data(n,"switchbutton");var k=l.options;var j=l.switchbutton;var i=j.find(".switchbutton-value");if(m){k.disabled=true;e(n).add(i)._propAttr("disabled",true);j.addClass("switchbutton-disabled")}else{k.disabled=false;e(n).add(i)._propAttr("disabled",false);j.removeClass("switchbutton-disabled")}}function b(j,i){var l=e.data(j,"switchbutton");var k=l.options;k.readonly=i==undefined?true:i;l.switchbutton.removeClass("switchbutton-readonly").addClass(k.readonly?"switchbutton-readonly":"")}function d(k){var j=e.data(k,"switchbutton");var i=j.options;j.switchbutton.unbind(".switchbutton").bind("click.switchbutton",function(){if(!i.disabled&&!i.readonly){g(k,i.checked?false:true,true)}})}e.fn.switchbutton=function(j,i){if(typeof j=="string"){return e.fn.switchbutton.methods[j](this,i)}j=j||{};return this.each(function(){var k=e.data(this,"switchbutton");if(k){e.extend(k.options,j)}else{k=e.data(this,"switchbutton",{options:e.extend({},e.fn.switchbutton.defaults,e.fn.switchbutton.parseOptions(this),j),switchbutton:f(this)})}k.options.originalChecked=k.options.checked;h(this);c(this);d(this)})};e.fn.switchbutton.methods={options:function(j){var i=j.data("switchbutton");return e.extend(i.options,{value:i.switchbutton.find(".switchbutton-value").val()})},resize:function(j,i){return j.each(function(){c(this,i)})},enable:function(i){return i.each(function(){a(this,false)})},disable:function(i){return i.each(function(){a(this,true)})},readonly:function(j,i){return j.each(function(){b(this,i)})},check:function(i){return i.each(function(){g(this,true)})},uncheck:function(i){return i.each(function(){g(this,false)})},clear:function(i){return i.each(function(){g(this,false)})},reset:function(i){return i.each(function(){var j=e(this).switchbutton("options");g(this,j.originalChecked)})},setValue:function(j,i){return j.each(function(){e(this).val(i);e.data(this,"switchbutton").switchbutton.find(".switchbutton-value").val(i)})}};e.fn.switchbutton.parseOptions=function(j){var i=e(j);return e.extend({},e.parser.parseOptions(j,["onText","offText","handleText",{handleWidth:"number",reversed:"boolean"}]),{value:(i.val()||undefined),checked:(i.attr("checked")?true:undefined),disabled:(i.attr("disabled")?true:undefined),readonly:(i.attr("readonly")?true:undefined)})};e.fn.switchbutton.defaults={handleWidth:"auto",width:60,height:30,checked:false,disabled:false,readonly:false,reversed:false,onText:"ON",offText:"OFF",handleText:"",value:"on",onChange:function(i){}}})(jQuery);