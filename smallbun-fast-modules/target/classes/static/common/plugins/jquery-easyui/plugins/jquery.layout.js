(function(d){var k=false;function j(t,s){var q=d.data(t,"layout");var p=q.options;var o=q.panels;var l=d(t);if(s){d.extend(p,{width:s.width,height:s.height})}if(t.tagName.toLowerCase()=="body"){l._size("fit")}else{l._size(p)}var n={top:0,left:0,width:l.width(),height:l.height()};m(g(o.expandNorth)?o.expandNorth:o.north,"n");m(g(o.expandSouth)?o.expandSouth:o.south,"s");r(g(o.expandEast)?o.expandEast:o.east,"e");r(g(o.expandWest)?o.expandWest:o.west,"w");o.center.panel("resize",n);function m(w,x){if(!w.length||!g(w)){return}var v=w.panel("options");w.panel("resize",{width:l.width(),height:v.height});var u=w.panel("panel").outerHeight();w.panel("move",{left:0,top:(x=="n"?0:l.height()-u)});n.height-=u;if(x=="n"){n.top+=u;if(!v.split&&v.border){n.top--}}if(!v.split&&v.border){n.height++}}function r(u,x){if(!u.length||!g(u)){return}var w=u.panel("options");u.panel("resize",{width:w.width,height:n.height});var v=u.panel("panel").outerWidth();u.panel("move",{left:(x=="e"?l.width()-v:0),top:n.top});n.width-=v;if(x=="w"){n.left+=v;if(!w.split&&w.border){n.left--}}if(!w.split&&w.border){n.width++}}}function c(o){var p=d(o);p.addClass("layout");function n(r){var q=d.fn.layout.parsePanelOptions(r);if("north,south,east,west,center".indexOf(q.region)>=0){b(o,q,r)}}var m=p.layout("options");var l=m.onAdd;m.onAdd=function(){};p.find(">div,>form>div").each(function(){n(this)});m.onAdd=l;p.append('<div class="layout-split-proxy-h"></div><div class="layout-split-proxy-v"></div>');p.bind("_resize",function(r,q){if(d(this).hasClass("easyui-fluid")||q){j(o)}return false})}function b(u,t,n){t.region=t.region||"center";var s=d.data(u,"layout").panels;var p=d(u);var q=t.region;if(s[q].length){return}var o=d(n);if(!o.length){o=d("<div></div>").appendTo(p)}var r=d.extend({},d.fn.layout.paneldefaults,{width:(o.length?parseInt(o[0].style.width)||o.outerWidth():"auto"),height:(o.length?parseInt(o[0].style.height)||o.outerHeight():"auto"),doSize:false,collapsible:true,onOpen:function(){var y=d(this).panel("header").children("div.panel-tool");y.children("a.panel-tool-collapse").hide();var w={north:"up",south:"down",east:"right",west:"left"};if(!w[q]){return}var x="layout-button-"+w[q];var z=y.children("a."+x);if(!z.length){z=d('<a href="javascript:;"></a>').addClass(x).appendTo(y);z.bind("click",{dir:q},function(A){e(u,A.data.dir);return false})}d(this).panel("options").collapsible?z.show():z.hide()}},t,{cls:((t.cls||"")+" layout-panel layout-panel-"+q),bodyCls:((t.bodyCls||"")+" layout-body")});o.panel(r);s[q]=o;var m={north:"s",south:"n",east:"w",west:"e"};var l=o.panel("panel");if(o.panel("options").split){l.addClass("layout-split-"+q)}l.resizable(d.extend({},{handles:(m[q]||""),disabled:(!o.panel("options").split),onStartResize:function(A){k=true;if(q=="north"||q=="south"){var B=d(">div.layout-split-proxy-v",u)}else{var B=d(">div.layout-split-proxy-h",u)}var z=0,y=0,x=0,w=0;var C={display:"block"};if(q=="north"){C.top=parseInt(l.css("top"))+l.outerHeight()-B.height();C.left=parseInt(l.css("left"));C.width=l.outerWidth();C.height=B.height()}else{if(q=="south"){C.top=parseInt(l.css("top"));C.left=parseInt(l.css("left"));C.width=l.outerWidth();C.height=B.height()}else{if(q=="east"){C.top=parseInt(l.css("top"))||0;C.left=parseInt(l.css("left"))||0;C.width=B.width();C.height=l.outerHeight()}else{if(q=="west"){C.top=parseInt(l.css("top"))||0;C.left=l.outerWidth()-B.width();C.width=B.width();C.height=l.outerHeight()}}}}B.css(C);d('<div class="layout-mask"></div>').css({left:0,top:0,width:p.width(),height:p.height()}).appendTo(p)},onResize:function(B){if(q=="north"||q=="south"){var x=v(this);d(this).resizable("options").maxHeight=x;var w=d(">div.layout-split-proxy-v",u);var A=q=="north"?B.data.height-w.height():d(u).height()-B.data.height;w.css("top",A)}else{var z=v(this);d(this).resizable("options").maxWidth=z;var w=d(">div.layout-split-proxy-h",u);var y=q=="west"?B.data.width-w.width():d(u).width()-B.data.width;w.css("left",y)}return false},onStopResize:function(w){p.children("div.layout-split-proxy-v,div.layout-split-proxy-h").hide();o.panel("resize",w.data);j(u);k=false;p.find(">div.layout-mask").remove()}},t));p.layout("options").onAdd.call(u,q);function v(w){var E="expand"+q.substring(0,1).toUpperCase()+q.substring(1);var D=s.center;var C=(q=="north"||q=="south")?"minHeight":"minWidth";var B=(q=="north"||q=="south")?"maxHeight":"maxWidth";var A=(q=="north"||q=="south")?"_outerHeight":"_outerWidth";var z=d.parser.parseValue(B,s[q].panel("options")[B],d(u));var y=d.parser.parseValue(C,D.panel("options")[C],d(u));var x=D.panel("panel")[A]()-y;if(g(s[E])){x+=s[E][A]()-1}else{x+=d(w)[A]()}if(x>z){x=z}return x}}function f(o,n){var m=d.data(o,"layout").panels;if(m[n].length){m[n].panel("destroy");m[n]=d();var l="expand"+n.substring(0,1).toUpperCase()+n.substring(1);if(m[l]){m[l].panel("destroy");m[l]=undefined}d(o).layout("options").onRemove.call(o,n)}}function e(v,u,t){if(t==undefined){t="normal"}var s=d.data(v,"layout").panels;var l=s[u];var r=l.panel("options");if(r.onBeforeCollapse.call(l)==false){return}var q="expand"+u.substring(0,1).toUpperCase()+u.substring(1);if(!s[q]){s[q]=o(u);var w=s[q].panel("panel");if(!r.expandMode){w.css("cursor","default")}else{w.bind("click",function(){if(r.expandMode=="dock"){a(v,u)}else{l.panel("expand",false).panel("open");var p=n();l.panel("resize",p.collapse);l.panel("panel").unbind(".layout").bind("mouseleave.layout",{region:u},function(x){d(this).stop(true,true);if(k==true){return}if(d("body>div.combo-p>div.combo-panel:visible").length){return}e(v,x.data.region)});l.panel("panel").animate(p.expand,function(){d(v).layout("options").onExpand.call(v,u)})}return false})}}var m=n();if(!g(s[q])){s.center.panel("resize",m.resizeC)}l.panel("panel").animate(m.collapse,t,function(){l.panel("collapse",false).panel("close");s[q].panel("open").panel("resize",m.expandP);d(this).unbind(".layout");d(v).layout("options").onCollapse.call(v,u)});function o(z){var y={east:"left",west:"right",north:"down",south:"up"};var x=(r.region=="north"||r.region=="south");var C="layout-button-"+y[z];var B=d("<div></div>").appendTo(v);B.panel(d.extend({},d.fn.layout.paneldefaults,{cls:("layout-expand layout-expand-"+z),title:"&nbsp;",titleDirection:r.titleDirection,iconCls:(r.hideCollapsedContent?null:r.iconCls),closed:true,minWidth:0,minHeight:0,doSize:false,region:r.region,collapsedSize:r.collapsedSize,noheader:(!x&&r.hideExpandTool),tools:((x&&r.hideExpandTool)?null:[{iconCls:C,handler:function(){a(v,u);return false}}]),onResize:function(){var E=d(this).children(".layout-expand-title");if(E.length){E._outerWidth(d(this).height());var D=(d(this).width()-Math.min(E._outerWidth(),E._outerHeight()))/2;var p=Math.max(E._outerWidth(),E._outerHeight());if(E.hasClass("layout-expand-title-down")){D+=Math.min(E._outerWidth(),E._outerHeight());p=0}E.css({left:(D+"px"),top:(p+"px")})}}}));if(!r.hideCollapsedContent){var A=typeof r.collapsedContent=="function"?r.collapsedContent.call(B[0],r.title):r.collapsedContent;x?B.panel("setTitle",A):B.html(A)}B.panel("panel").hover(function(){d(this).addClass("layout-expand-over")},function(){d(this).removeClass("layout-expand-over")});return B}function n(){var C=d(v);var p=s.center.panel("options");var B=r.collapsedSize;if(u=="east"){var A=l.panel("panel")._outerWidth();var z=p.width+A-B;if(r.split||!r.border){z++}return{resizeC:{width:z},expand:{left:C.width()-A},expandP:{top:p.top,left:C.width()-B,width:B,height:p.height},collapse:{left:C.width(),top:p.top,height:p.height}}}else{if(u=="west"){var A=l.panel("panel")._outerWidth();var z=p.width+A-B;if(r.split||!r.border){z++}return{resizeC:{width:z,left:B-1},expand:{left:0},expandP:{left:0,top:p.top,width:B,height:p.height},collapse:{left:-A,top:p.top,height:p.height}}}else{if(u=="north"){var y=l.panel("panel")._outerHeight();var x=p.height;if(!g(s.expandNorth)){x+=y-B+((r.split||!r.border)?1:0)}s.east.add(s.west).add(s.expandEast).add(s.expandWest).panel("resize",{top:B-1,height:x});return{resizeC:{top:B-1,height:x},expand:{top:0},expandP:{top:0,left:0,width:C.width(),height:B},collapse:{top:-y,width:C.width()}}}else{if(u=="south"){var y=l.panel("panel")._outerHeight();var x=p.height;if(!g(s.expandSouth)){x+=y-B+((r.split||!r.border)?1:0)}s.east.add(s.west).add(s.expandEast).add(s.expandWest).panel("resize",{height:x});return{resizeC:{height:x},expand:{top:C.height()-y},expandP:{top:C.height()-B,left:0,width:C.width(),height:B},collapse:{top:C.height(),width:C.width()}}}}}}}}function a(s,r){var q=d.data(s,"layout").panels;var t=q[r];var o=t.panel("options");if(o.onBeforeExpand.call(t)==false){return}var n="expand"+r.substring(0,1).toUpperCase()+r.substring(1);if(q[n]){q[n].panel("close");t.panel("panel").stop(true,true);t.panel("expand",false).panel("open");var m=l();t.panel("resize",m.collapse);t.panel("panel").animate(m.expand,function(){j(s);d(s).layout("options").onExpand.call(s,r)})}function l(){var u=d(s);var p=q.center.panel("options");if(r=="east"&&q.expandEast){return{collapse:{left:u.width(),top:p.top,height:p.height},expand:{left:u.width()-t.panel("panel")._outerWidth()}}}else{if(r=="west"&&q.expandWest){return{collapse:{left:-t.panel("panel")._outerWidth(),top:p.top,height:p.height},expand:{left:0}}}else{if(r=="north"&&q.expandNorth){return{collapse:{top:-t.panel("panel")._outerHeight(),width:u.width()},expand:{top:0}}}else{if(r=="south"&&q.expandSouth){return{collapse:{top:u.height(),width:u.width()},expand:{top:u.height()-t.panel("panel")._outerHeight()}}}}}}}}function g(l){if(!l){return false}if(l.length){return l.panel("panel").is(":visible")}else{return false}}function i(p){var n=d.data(p,"layout");var m=n.options;var l=n.panels;var q=m.onCollapse;m.onCollapse=function(){};o("east");o("west");o("north");o("south");m.onCollapse=q;function o(s){var r=l[s];if(r.length&&r.panel("options").collapsed){e(p,s,0)}}}function h(r,o,n){var q=d(r).layout("panel",o);q.panel("options").split=n;var l="layout-split-"+o;var m=q.panel("panel").removeClass(l);if(n){m.addClass(l)}m.resizable({disabled:(!n)});j(r)}d.fn.layout=function(m,l){if(typeof m=="string"){return d.fn.layout.methods[m](this,l)}m=m||{};return this.each(function(){var o=d.data(this,"layout");if(o){d.extend(o.options,m)}else{var n=d.extend({},d.fn.layout.defaults,d.fn.layout.parseOptions(this),m);d.data(this,"layout",{options:n,panels:{center:d(),north:d(),south:d(),east:d(),west:d()}});c(this)}j(this);i(this)})};d.fn.layout.methods={options:function(l){return d.data(l[0],"layout").options},resize:function(m,l){return m.each(function(){j(this,l)})},panel:function(m,l){return d.data(m[0],"layout").panels[l]},collapse:function(m,l){return m.each(function(){e(this,l)})},expand:function(m,l){return m.each(function(){a(this,l)})},add:function(m,l){return m.each(function(){b(this,l);j(this);if(d(this).layout("panel",l.region).panel("options").collapsed){e(this,l.region,0)}})},remove:function(m,l){return m.each(function(){f(this,l);j(this)})},split:function(m,l){return m.each(function(){h(this,l,true)})},unsplit:function(m,l){return m.each(function(){h(this,l,false)})}};d.fn.layout.parseOptions=function(l){return d.extend({},d.parser.parseOptions(l,[{fit:"boolean"}]))};d.fn.layout.defaults={fit:false,onExpand:function(l){},onCollapse:function(l){},onAdd:function(l){},onRemove:function(l){}};d.fn.layout.parsePanelOptions=function(m){var l=d(m);return d.extend({},d.fn.panel.parseOptions(m),d.parser.parseOptions(m,["region",{split:"boolean",collpasedSize:"number",minWidth:"number",minHeight:"number",maxWidth:"number",maxHeight:"number"}]))};d.fn.layout.paneldefaults=d.extend({},d.fn.panel.defaults,{region:null,split:false,collapsedSize:32,expandMode:"float",hideExpandTool:false,hideCollapsedContent:true,collapsedContent:function(m){var n=d(this);var l=n.panel("options");if(l.region=="north"||l.region=="south"){return m}var o=[];if(l.iconCls){o.push('<div class="panel-icon '+l.iconCls+'"></div>')}o.push('<div class="panel-title layout-expand-title');o.push(" layout-expand-title-"+l.titleDirection);o.push(l.iconCls?" layout-expand-with-icon":"");o.push('">');o.push(m);o.push("</div>");return o.join("")},minWidth:10,minHeight:10,maxWidth:10000,maxHeight:10000})})(jQuery);