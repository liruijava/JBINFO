$(function(){$.ajax({url:contextPath+"dict/type/list",async:true,type:"post",dataType:"JSON",success:function(a){$("#dictType").selectPage({showField:"typeName",keyField:"id",data:a.result,pageSize:10,eOpen:function(){$(".sp_result_area").outerWidth($("#dictType").parent().width())},formatItem:function(b){return b.typeName+"("+b.typeCode+")"},eSelect:function(b){$("#dictType").valid()},eClear:function(){}});$("#dictType").addClass("required")}})});$(".form-horizontal").validate({onkeyup:false,rules:{dictValue:{required:true,dictValue:true}},messages:{dictValue:{required:"请输入字典值",remote:"字典值已存在"}}});jQuery.validator.addMethod("dictValue",function(d,c){var b=true;var a=$("#dictType").val();var e=$("#id").val();if($.common.isNotEmpty(a)){$.ajax({url:contextPath+"dict/value/unique",async:false,type:"POST",dataType:"JSON",data:{id:e,dictValue:d,dictType:a},success:function(f){b=f.result}})}return b},"该类型下字典值已存在");function doSubmit(){if($(".form-horizontal").valid()){$.operate.save($(".form-horizontal").attr("action"),$(".form-horizontal").serializeArray())}};