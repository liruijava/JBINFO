$(function(){if($.common.isEmpty($("input[name='fontColor']").val())){$("input[name='fontColor']").val("#ddd")}$("#color-picker").colorpicker();$.pop_up_tree.init({obj:"pop-up-menu-tree",value:"parentId",topName:"功能菜单",idKey:"id",pIdKey:"parentId",rootPId:"0",name:"menuName",type:"POST",url:contextPath+"menu/list"})});function iconConfirm(b,a){var c=a.find("iframe")[0].contentWindow.document.getElementById("icon").value;$("input[name='icon']").val(c);try{$("input[name='icon']").valid()}catch(d){}$("#icon-show").removeClass();$("#icon-show").removeAttr("style");$("#icon-show").addClass(c);layer.close(b)}function doSubmit(){if($(".form-horizontal").valid()){$.operate.save($(".form-horizontal").attr("action"),$(".form-horizontal").serializeArray())}}$("input:radio[name='menuType']").on("ifChecked",function(a){if($(this).val()==="2"){btnExtracted()}if($(this).val()==="0"||$(this).val()==="1"){menuExtracted()}});$(function(){var a=$('input:radio[name="menuType"]:checked');if(a.val()==="2"){btnExtracted()}if(a.val()==="1"||a.val()==="0"){menuExtracted()}});function btnExtracted(){$("input[name='fontColor']").parent().parent().parent().hide();$("input[name='icon']").parent().parent().parent().hide();$("input[name='url']").parent().parent().parent().hide();$("input[name='target']").parent().parent().parent().hide();$("input[name='permission']").parent().parent().parent().show();$("input[name='icon']").attr("readonly","true");$("input[name='url']").attr("readonly","true");$("input[name='fontColor']").attr("readonly","true");$("input[name='target']").attr("readonly","true");$("#pop-up-menu-tree").attr("required","true")}function menuExtracted(){$("input[name='fontColor']").parent().parent().parent().show();$("input[name='icon']").parent().parent().parent().show();$("input[name='url']").parent().parent().parent().show();$("input[name='target']").parent().parent().parent().show();$("input[name='permission']").parent().parent().parent().hide();$("input[name='icon']").removeAttr("readonly");$("input[name='url']").removeAttr("readonly");$("input[name='fontColor']").removeAttr("readonly");$("input[name='target']").removeAttr("readonly");$("#pop-up-menu-tree").removeAttr("required");$("#pop-up-menu-tree").valid()};